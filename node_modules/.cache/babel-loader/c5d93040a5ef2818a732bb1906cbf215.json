{"ast":null,"code":"var _jsxFileName = \"/Users/aladdin/Documents/richtexteditor-demo/src/views/draft/draft.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\n/* eslint-disable */\nimport ReactDOM from 'react-dom';\nimport './style.css';\nimport React, { Component, useState } from 'react';\nimport { EditorState, convertToRaw, convertFromRaw } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction DraftDemo() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"index\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"../jodit.html\",\n      children: \"jodit editor demo~\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 9\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 56\n    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"../draft.html\",\n      children: \"draft editor demo~\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 9\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 56\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Draft-WYSIWYG Editor\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(DraftApp, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ConvertToRawDraftContent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ConvertFromRawDraftContent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ConvertFromRawDraftContent2, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 12\n  }, this);\n}\n\n_c = DraftDemo;\n\nfunction DraftApp() {\n  _s();\n\n  const [editorState, setEditorState] = useState(EditorState.createEmpty());\n  const [rawContent, setRawContent] = useState(\"\");\n\n  function handleEditorChange(event) {\n    setEditorState(event);\n  }\n\n  function handleTextAreaChange(event) {\n    setRawContent(event.target.value);\n  }\n\n  function serializeJSONHandler(event) {\n    setRawContent(JSON.stringify(convertToRaw(editorState.getCurrentContent())));\n    console.log(\"serialize\");\n    console.log(rawContent);\n  }\n\n  function deserializeJSONHandler(event) {\n    console.log(\"rawContent:\");\n    console.log(rawContent);\n    var ob = JSON.parse(rawContent);\n    console.log(\"JSON parsed Content:\");\n    console.log(ob);\n    var ob2 = JSON.stringify(ob);\n    console.log(\"stringfy content\");\n    console.log(ob2);\n    console.log(\"directly raw\");\n    var ob3 = convertToRaw(editorState.getCurrentContent());\n    console.log(ob3);\n    var ob4 = JSON.stringify(ob3);\n    var ob5 = JSON.parse(ob4); //rawContent -> RawDraftContentState\n\n    convertFromRaw(ob); //见鬼了...\n    //console.log(convertFromRaw(rawContent));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rdw-storybook-root\",\n    children: [/*#__PURE__*/_jsxDEV(Editor, {\n      editorState: editorState,\n      toolbarClassName: \"rdw-storybook-toolbar\",\n      wrapperClassName: \"rdw-storybook-wrapper\",\n      editorClassName: \"rdw-storybook-editor\",\n      onEditorStateChange: event => handleEditorChange(event)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      readOnly: true,\n      className: \"rdw-storybook-textarea\",\n      value: JSON.stringify(convertToRaw(editorState.getCurrentContent()))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: event => serializeJSONHandler(event),\n      children: \"serializeTojson\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"  \\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0  \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: event => deserializeJSONHandler(event),\n      children: \"deserializeFromjson\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      className: \"rdw-storybook-textarea\",\n      state: rawContent,\n      value: rawContent,\n      onChange: event => handleTextAreaChange(event)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 12\n  }, this);\n}\n\n_s(DraftApp, \"/UM+v9UtQRGifQ14mEjnCO86zWA=\");\n\n_c2 = DraftApp;\nexport class ConvertToRawDraftContent extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      editorState: EditorState.createEmpty()\n    };\n\n    this.onEditorStateChange = editorState => {\n      this.setState({\n        editorState\n      });\n      console.log(\"editorState:\");\n      console.log(editorState);\n      console.log(\"JSON version:\");\n      console.log(JSON.stringify(convertToRaw(editorState.getCurrentContent())));\n    };\n  }\n\n  render() {\n    const {\n      editorState\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rdw-storybook-root\",\n      children: [/*#__PURE__*/_jsxDEV(Editor, {\n        editorState: editorState,\n        toolbarClassName: \"rdw-storybook-toolbar\",\n        wrapperClassName: \"rdw-storybook-wrapper\",\n        editorClassName: \"rdw-storybook-editor\",\n        onEditorStateChange: this.onEditorStateChange,\n        localization: {\n          locale: 'zh_tw'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        readOnly: true,\n        className: \"rdw-storybook-textarea\",\n        value: JSON.stringify(convertToRaw(editorState.getCurrentContent()))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nfunction ConvertFromRawDraftContent2() {\n  _s2();\n\n  /*\n  //load only once.\n  useEffect(() => {\n      textContent[1](content);\n  },[]);\n   */\n  var rawContent = {\n    \"blocks\": [{\n      \"key\": \"e1fmv\",\n      \"text\": \"hello john!!!\",\n      \"type\": \"unstyled\",\n      \"depth\": 0,\n      \"inlineStyleRanges\": [],\n      \"entityRanges\": [],\n      \"data\": {}\n    }],\n    \"entityMap\": {}\n  };\n  const contentState = convertFromRaw(rawContent);\n  console.log(\"show raw content\");\n  console.log(rawContent);\n  const [editorState, setEditorState] = useState(EditorState.createWithContent(contentState));\n\n  function changeHandler(event) {\n    console.log(event);\n    setEditorState(event);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rdw-storybook-root\",\n    children: /*#__PURE__*/_jsxDEV(Editor, {\n      editorState: editorState,\n      toolbarClassName: \"rdw-storybook-toolbar\",\n      wrapperClassName: \"rdw-storybook-wrapper\",\n      editorClassName: \"rdw-storybook-editor\",\n      onEditorStateChange: event => changeHandler(event)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 12\n  }, this);\n}\n\n_s2(ConvertFromRawDraftContent2, \"14n4GK9zkxgz9m4wSLWP0xrBQGk=\");\n\n_c3 = ConvertFromRawDraftContent2;\n\nclass ConvertFromRawDraftContent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onEditorStateChange = editorState => {\n      this.setState({\n        editorState\n      });\n    };\n\n    const contentState = convertFromRaw({\n      \"blocks\": [{\n        \"key\": \"e1fmv\",\n        \"text\": \"hello john\",\n        \"type\": \"unstyled\",\n        \"depth\": 0,\n        \"inlineStyleRanges\": [],\n        \"entityRanges\": [],\n        \"data\": {}\n      }],\n      \"entityMap\": {}\n    });\n    /*\n    const contentState = convertFromRaw({\n        \"blocks\": [\n            {\n                \"key\": \"637gr\",\n                \"text\": \"Initialized from content state.\",\n                \"type\": \"unstyled\",\n                \"depth\": 0,\n                \"inlineStyleRanges\": [],\n                \"entityRanges\": [],\n                \"data\": {\n                    \"text-align\": \"center\"\n                }\n            }\n        ],\n        \"entityMap\": {}\n    });\n      */\n\n    const _editorState = EditorState.createWithContent(contentState);\n\n    this.state = {\n      editorState: _editorState\n    };\n  }\n\n  render() {\n    const {\n      editorState\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rdw-storybook-root\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"RAW Content: \", /*#__PURE__*/_jsxDEV(\"pre\", {\n          children: '{\"entityMap\":{},\"blocks\":[{\"key\":\"637gr\",\"text\":\"Initialized from content state.\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}]}'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Editor, {\n        editorState: editorState,\n        toolbarClassName: \"rdw-storybook-toolbar\",\n        wrapperClassName: \"rdw-storybook-wrapper\",\n        editorClassName: \"rdw-storybook-editor\",\n        onEditorStateChange: this.onEditorStateChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nReactDOM.render( /*#__PURE__*/_jsxDEV(DraftDemo, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 208,\n  columnNumber: 5\n}, this), document.getElementById('root'));\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"DraftDemo\");\n$RefreshReg$(_c2, \"DraftApp\");\n$RefreshReg$(_c3, \"ConvertFromRawDraftContent2\");","map":{"version":3,"sources":["/Users/aladdin/Documents/richtexteditor-demo/src/views/draft/draft.js"],"names":["ReactDOM","React","Component","useState","EditorState","convertToRaw","convertFromRaw","Editor","DraftDemo","DraftApp","editorState","setEditorState","createEmpty","rawContent","setRawContent","handleEditorChange","event","handleTextAreaChange","target","value","serializeJSONHandler","JSON","stringify","getCurrentContent","console","log","deserializeJSONHandler","ob","parse","ob2","ob3","ob4","ob5","ConvertToRawDraftContent","state","onEditorStateChange","setState","render","locale","ConvertFromRawDraftContent2","contentState","createWithContent","changeHandler","ConvertFromRawDraftContent","constructor","props","document","getElementById"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport ReactDOM from 'react-dom';\nimport './style.css';\nimport React, { Component,useState } from 'react';\nimport { EditorState, convertToRaw,convertFromRaw } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\n\n\nfunction DraftDemo(){\n    return <div>\n        <h2>index</h2>\n        <a href=\"../jodit.html\">jodit editor demo~</a> <br></br>\n        <a href=\"../draft.html\">draft editor demo~</a> <br></br>\n        <h3>Draft-WYSIWYG Editor</h3>\n        <DraftApp/>\n        <ConvertToRawDraftContent />\n        <ConvertFromRawDraftContent/>\n        <ConvertFromRawDraftContent2/>\n    </div>\n}\n\nfunction DraftApp(){\n    const [editorState,setEditorState] = useState(EditorState.createEmpty());\n    const [rawContent,setRawContent] = useState(\"\");\n\n    function handleEditorChange(event){\n        setEditorState(event);\n    }\n\n    function handleTextAreaChange(event){\n        setRawContent(event.target.value)\n    }\n\n    function serializeJSONHandler(event){\n        setRawContent(JSON.stringify(convertToRaw(editorState.getCurrentContent())))\n        console.log(\"serialize\")\n        console.log(rawContent);\n    }\n\n    function deserializeJSONHandler(event){\n        console.log(\"rawContent:\");\n        console.log(rawContent);\n        var ob = JSON.parse(rawContent);\n        console.log(\"JSON parsed Content:\");\n        console.log(ob);\n        var ob2 = JSON.stringify(ob);\n        console.log(\"stringfy content\");\n        console.log(ob2);\n        console.log(\"directly raw\")\n        var ob3 = convertToRaw(editorState.getCurrentContent());\n        console.log(ob3)\n\n        var ob4 = JSON.stringify(ob3);\n        var ob5 = JSON.parse(ob4);\n\n        //rawContent -> RawDraftContentState\n        convertFromRaw(ob);\n        //见鬼了...\n        //console.log(convertFromRaw(rawContent));\n    }\n\n    return <div className=\"rdw-storybook-root\">\n        <Editor\n            editorState={editorState}\n            toolbarClassName=\"rdw-storybook-toolbar\"\n            wrapperClassName=\"rdw-storybook-wrapper\"\n            editorClassName=\"rdw-storybook-editor\"\n            onEditorStateChange={(event)=>handleEditorChange(event)}\n        />\n        <textarea\n            readOnly\n            className=\"rdw-storybook-textarea\"\n            value={JSON.stringify(convertToRaw(editorState.getCurrentContent()))}\n        />\n        <button onClick={event=>serializeJSONHandler(event)}>serializeTojson</button>\n        <label>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </label>\n        <button onClick={event=>deserializeJSONHandler(event)}>deserializeFromjson</button>\n        <textarea\n            className=\"rdw-storybook-textarea\"\n            state = {rawContent}\n            value={rawContent}\n            onChange = {(event)=>handleTextAreaChange(event)}\n        />\n    </div>\n}\n\nexport class ConvertToRawDraftContent extends Component {\n    state = {\n        editorState: EditorState.createEmpty(),\n\n    }\n\n    onEditorStateChange: Function = (editorState) => {\n        this.setState({\n            editorState,\n        });\n        console.log(\"editorState:\")\n        console.log(editorState);\n        console.log(\"JSON version:\")\n        console.log(JSON.stringify(convertToRaw(editorState.getCurrentContent())));\n    };\n\n    render() {\n        const { editorState } = this.state;\n        return (<div className=\"rdw-storybook-root\">\n            <Editor\n                editorState={editorState}\n                toolbarClassName=\"rdw-storybook-toolbar\"\n                wrapperClassName=\"rdw-storybook-wrapper\"\n                editorClassName=\"rdw-storybook-editor\"\n                onEditorStateChange={this.onEditorStateChange}\n                localization={{\n                    locale: 'zh_tw',\n                }}\n            />\n            <textarea\n                readOnly\n                className=\"rdw-storybook-textarea\"\n                value={JSON.stringify(convertToRaw(editorState.getCurrentContent()))}\n            />\n        </div>);\n    }\n}\n\n\nfunction ConvertFromRawDraftContent2(){\n\n    /*\n    //load only once.\n    useEffect(() => {\n        textContent[1](content);\n    },[]);\n     */\n    var rawContent = {\"blocks\":[{\"key\":\"e1fmv\",\"text\":\"hello john!!!\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{}};\n    const contentState = convertFromRaw(rawContent);\n    console.log(\"show raw content\");\n    console.log(rawContent)\n    const [editorState,setEditorState] = useState(EditorState.createWithContent(contentState));\n\n    function changeHandler(event){\n        console.log(event);\n        setEditorState(event);\n    }\n    return <div className=\"rdw-storybook-root\">\n        <Editor\n            editorState={editorState}\n            toolbarClassName=\"rdw-storybook-toolbar\"\n            wrapperClassName=\"rdw-storybook-wrapper\"\n            editorClassName=\"rdw-storybook-editor\"\n            onEditorStateChange={(event)=>changeHandler(event)}\n        />\n    </div>;\n}\n\nclass ConvertFromRawDraftContent extends Component {\n    constructor(props) {\n        super(props);\n        const contentState = convertFromRaw({\"blocks\":[{\"key\":\"e1fmv\",\"text\":\"hello john\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{}});\n        /*\n        const contentState = convertFromRaw({\n            \"blocks\": [\n                {\n                    \"key\": \"637gr\",\n                    \"text\": \"Initialized from content state.\",\n                    \"type\": \"unstyled\",\n                    \"depth\": 0,\n                    \"inlineStyleRanges\": [],\n                    \"entityRanges\": [],\n                    \"data\": {\n                        \"text-align\": \"center\"\n                    }\n                }\n            ],\n            \"entityMap\": {}\n        });\n\n         */\n        const editorState = EditorState.createWithContent(contentState);\n        this.state = {\n            editorState,\n        }\n    }\n\n    onEditorStateChange: Function = (editorState) => {\n        this.setState({\n            editorState,\n        });\n    };\n\n    render() {\n        const { editorState } = this.state;\n        return (<div className=\"rdw-storybook-root\">\n            <span>RAW Content: <pre>{'{\"entityMap\":{},\"blocks\":[{\"key\":\"637gr\",\"text\":\"Initialized from content state.\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}]}'}</pre></span>\n            <Editor\n                editorState={editorState}\n                toolbarClassName=\"rdw-storybook-toolbar\"\n                wrapperClassName=\"rdw-storybook-wrapper\"\n                editorClassName=\"rdw-storybook-editor\"\n                onEditorStateChange={this.onEditorStateChange}\n            />\n        </div>);\n    }\n}\n\n\nReactDOM.render(\n    <DraftDemo />,\n    document.getElementById('root')\n);"]},"metadata":{},"sourceType":"module"}