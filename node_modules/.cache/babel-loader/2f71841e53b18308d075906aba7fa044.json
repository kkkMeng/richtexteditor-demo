{"ast":null,"code":"var _jsxFileName = \"/Users/aladdin/Documents/richtexteditor-demo/src/views/draft/draft.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\n/* eslint-disable */\nimport ReactDOM from 'react-dom';\nimport './style.css';\nimport React, { Component, useState } from 'react';\nimport { EditorState, convertToRaw, convertFromRaw } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction DraftDemo() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"index\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"../jodit.html\",\n      children: \"jodit editor demo~\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 9\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 56\n    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"../draft.html\",\n      children: \"draft editor demo~\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 9\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 56\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Draft-WYSIWYG Editor\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(DraftApp, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ConvertToRawDraftContent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ConvertFromRawDraftContent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ConvertFromRawDraftContent2, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 12\n  }, this);\n}\n\n_c = DraftDemo;\n\nfunction DraftApp() {\n  _s();\n\n  const [editorState, setEditorState] = useState(EditorState.createEmpty());\n  const [rawContent, setRawContent] = useState(\"\");\n\n  function handleEditorChange(event) {\n    setEditorState(event);\n    console.log(\"handling editor change\");\n    console.log(event);\n    console.log(editorState);\n  }\n\n  function handleTextAreaChange(event) {\n    setRawContent(event.target.value);\n    console.log(\"handling text area change\"); //console.log(event);\n\n    console.log(event.target.value);\n  }\n\n  function serializeJSONHandler(event) {\n    console.log(\"serialize to JSON\");\n    console.log(event);\n    console.log(JSON.stringify(convertToRaw(editorState.getCurrentContent())));\n    setRawContent(JSON.stringify(convertToRaw(editorState.getCurrentContent())));\n    console.log(rawContent);\n  }\n\n  function deserializeJSONHandler(event) {\n    console.log(\"deserialize from JSON\");\n    console.log(event);\n    console.log(\"rawContent:\");\n    console.log(rawContent);\n    var ob = JSON.parse(rawContent);\n    console.log(\"JSON parsed Content:\");\n    console.log(ob);\n    var ob2 = JSON.stringify(ob);\n    console.log(\"stringfy content\");\n    console.log(ob2); //见鬼了...\n    //console.log(convertFromRaw(rawContent));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rdw-storybook-root\",\n    children: [/*#__PURE__*/_jsxDEV(Editor, {\n      editorState: editorState,\n      toolbarClassName: \"rdw-storybook-toolbar\",\n      wrapperClassName: \"rdw-storybook-wrapper\",\n      editorClassName: \"rdw-storybook-editor\",\n      onEditorStateChange: event => handleEditorChange(event)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      readOnly: true,\n      className: \"rdw-storybook-textarea\",\n      value: JSON.stringify(convertToRaw(editorState.getCurrentContent()))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: event => serializeJSONHandler(event),\n      children: \"serializeTojson\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"  \\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0  \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: event => deserializeJSONHandler(event),\n      children: \"deserializeFromjson\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      className: \"rdw-storybook-textarea\",\n      state: rawContent,\n      value: rawContent,\n      onChange: event => handleTextAreaChange(event)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 12\n  }, this);\n}\n\n_s(DraftApp, \"/UM+v9UtQRGifQ14mEjnCO86zWA=\");\n\n_c2 = DraftApp;\nexport class ConvertToRawDraftContent extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      editorState: EditorState.createEmpty()\n    };\n\n    this.onEditorStateChange = editorState => {\n      this.setState({\n        editorState\n      });\n      console.log(\"editorState:\");\n      console.log(editorState);\n      console.log(\"JSON version:\");\n      console.log(JSON.stringify(convertToRaw(editorState.getCurrentContent())));\n    };\n  }\n\n  render() {\n    const {\n      editorState\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rdw-storybook-root\",\n      children: [/*#__PURE__*/_jsxDEV(Editor, {\n        editorState: editorState,\n        toolbarClassName: \"rdw-storybook-toolbar\",\n        wrapperClassName: \"rdw-storybook-wrapper\",\n        editorClassName: \"rdw-storybook-editor\",\n        onEditorStateChange: this.onEditorStateChange,\n        localization: {\n          locale: 'zh_tw'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        readOnly: true,\n        className: \"rdw-storybook-textarea\",\n        value: JSON.stringify(convertToRaw(editorState.getCurrentContent()))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nfunction ConvertFromRawDraftContent2() {\n  _s2();\n\n  const [editorState, setEditorState] = useState();\n  const [content, setContent] = useState();\n  var tmp = {\n    \"blocks\": [{\n      \"key\": \"e1fmv\",\n      \"text\": \"hello john\",\n      \"type\": \"unstyled\",\n      \"depth\": 0,\n      \"inlineStyleRanges\": [],\n      \"entityRanges\": [],\n      \"data\": {}\n    }],\n    \"entityMap\": {}\n  };\n  const [rawState, setRawContent] = useState({\n    \"blocks\": [{\n      \"key\": \"e1fmv\",\n      \"text\": \"hello john\",\n      \"type\": \"unstyled\",\n      \"depth\": 0,\n      \"inlineStyleRanges\": [],\n      \"entityRanges\": [],\n      \"data\": {}\n    }],\n    \"entityMap\": {}\n  });\n  setEditorState(EditorState.createWithContent(contentState));\n  setContent(convertFromRaw(rawState));\n\n  function changeHandler(event) {\n    console.log(event);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rdw-storybook-root\",\n    children: /*#__PURE__*/_jsxDEV(Editor, {\n      editorState: editorState,\n      toolbarClassName: \"rdw-storybook-toolbar\",\n      wrapperClassName: \"rdw-storybook-wrapper\",\n      editorClassName: \"rdw-storybook-editor\",\n      onEditorStateChange: event => changeHandler(event)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 12\n  }, this);\n}\n\n_s2(ConvertFromRawDraftContent2, \"iuMS2DedN5gt3eUAsz3HLsQMxN0=\");\n\n_c3 = ConvertFromRawDraftContent2;\n\nclass ConvertFromRawDraftContent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onEditorStateChange = editorState => {\n      this.setState({\n        editorState\n      });\n    };\n\n    const contentState = convertFromRaw({\n      \"blocks\": [{\n        \"key\": \"e1fmv\",\n        \"text\": \"hello john\",\n        \"type\": \"unstyled\",\n        \"depth\": 0,\n        \"inlineStyleRanges\": [],\n        \"entityRanges\": [],\n        \"data\": {}\n      }],\n      \"entityMap\": {}\n    });\n    /*\n    const contentState = convertFromRaw({\n        \"blocks\": [\n            {\n                \"key\": \"637gr\",\n                \"text\": \"Initialized from content state.\",\n                \"type\": \"unstyled\",\n                \"depth\": 0,\n                \"inlineStyleRanges\": [],\n                \"entityRanges\": [],\n                \"data\": {\n                    \"text-align\": \"center\"\n                }\n            }\n        ],\n        \"entityMap\": {}\n    });\n      */\n\n    const _editorState = EditorState.createWithContent(contentState);\n\n    this.state = {\n      editorState: _editorState\n    };\n  }\n\n  render() {\n    const {\n      editorState\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rdw-storybook-root\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"RAW Content: \", /*#__PURE__*/_jsxDEV(\"pre\", {\n          children: '{\"entityMap\":{},\"blocks\":[{\"key\":\"637gr\",\"text\":\"Initialized from content state.\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}]}'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Editor, {\n        editorState: editorState,\n        toolbarClassName: \"rdw-storybook-toolbar\",\n        wrapperClassName: \"rdw-storybook-wrapper\",\n        editorClassName: \"rdw-storybook-editor\",\n        onEditorStateChange: this.onEditorStateChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nReactDOM.render( /*#__PURE__*/_jsxDEV(DraftDemo, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 202,\n  columnNumber: 5\n}, this), document.getElementById('root'));\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"DraftDemo\");\n$RefreshReg$(_c2, \"DraftApp\");\n$RefreshReg$(_c3, \"ConvertFromRawDraftContent2\");","map":{"version":3,"sources":["/Users/aladdin/Documents/richtexteditor-demo/src/views/draft/draft.js"],"names":["ReactDOM","React","Component","useState","EditorState","convertToRaw","convertFromRaw","Editor","DraftDemo","DraftApp","editorState","setEditorState","createEmpty","rawContent","setRawContent","handleEditorChange","event","console","log","handleTextAreaChange","target","value","serializeJSONHandler","JSON","stringify","getCurrentContent","deserializeJSONHandler","ob","parse","ob2","ConvertToRawDraftContent","state","onEditorStateChange","setState","render","locale","ConvertFromRawDraftContent2","content","setContent","tmp","rawState","createWithContent","contentState","changeHandler","ConvertFromRawDraftContent","constructor","props","document","getElementById"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport ReactDOM from 'react-dom';\nimport './style.css';\nimport React, { Component,useState } from 'react';\nimport { EditorState, convertToRaw,convertFromRaw } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\n\n\nfunction DraftDemo(){\n    return <div>\n        <h2>index</h2>\n        <a href=\"../jodit.html\">jodit editor demo~</a> <br></br>\n        <a href=\"../draft.html\">draft editor demo~</a> <br></br>\n        <h3>Draft-WYSIWYG Editor</h3>\n        <DraftApp/>\n        <ConvertToRawDraftContent />\n        <ConvertFromRawDraftContent/>\n        <ConvertFromRawDraftContent2/>\n    </div>\n}\n\nfunction DraftApp(){\n    const [editorState,setEditorState] = useState(EditorState.createEmpty());\n    const [rawContent,setRawContent] = useState(\"\");\n\n    function handleEditorChange(event){\n        setEditorState(event);\n        console.log(\"handling editor change\");\n        console.log(event);\n        console.log(editorState);\n    }\n\n    function handleTextAreaChange(event){\n        setRawContent(event.target.value)\n        console.log(\"handling text area change\");\n        //console.log(event);\n        console.log(event.target.value);\n    }\n\n    function serializeJSONHandler(event){\n        console.log(\"serialize to JSON\");\n        console.log(event);\n        console.log(JSON.stringify(convertToRaw(editorState.getCurrentContent())));\n        setRawContent(JSON.stringify(convertToRaw(editorState.getCurrentContent())))\n        console.log(rawContent);\n    }\n\n    function deserializeJSONHandler(event){\n        console.log(\"deserialize from JSON\");\n        console.log(event);\n        console.log(\"rawContent:\");\n        console.log(rawContent);\n        var ob = JSON.parse(rawContent);\n        console.log(\"JSON parsed Content:\");\n        console.log(ob);\n        var ob2 = JSON.stringify(ob);\n        console.log(\"stringfy content\");\n        console.log(ob2);\n\n        //见鬼了...\n        //console.log(convertFromRaw(rawContent));\n    }\n\n    return <div className=\"rdw-storybook-root\">\n        <Editor\n            editorState={editorState}\n            toolbarClassName=\"rdw-storybook-toolbar\"\n            wrapperClassName=\"rdw-storybook-wrapper\"\n            editorClassName=\"rdw-storybook-editor\"\n            onEditorStateChange={(event)=>handleEditorChange(event)}\n        />\n        <textarea\n            readOnly\n            className=\"rdw-storybook-textarea\"\n            value={JSON.stringify(convertToRaw(editorState.getCurrentContent()))}\n        />\n        <button onClick={event=>serializeJSONHandler(event)}>serializeTojson</button>\n        <label>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </label>\n        <button onClick={event=>deserializeJSONHandler(event)}>deserializeFromjson</button>\n        <textarea\n            className=\"rdw-storybook-textarea\"\n            state = {rawContent}\n            value={rawContent}\n            onChange = {(event)=>handleTextAreaChange(event)}\n        />\n    </div>\n}\n\nexport class ConvertToRawDraftContent extends Component {\n    state = {\n        editorState: EditorState.createEmpty(),\n\n    }\n\n    onEditorStateChange: Function = (editorState) => {\n        this.setState({\n            editorState,\n        });\n        console.log(\"editorState:\")\n        console.log(editorState);\n        console.log(\"JSON version:\")\n        console.log(JSON.stringify(convertToRaw(editorState.getCurrentContent())));\n    };\n\n    render() {\n        const { editorState } = this.state;\n        return (<div className=\"rdw-storybook-root\">\n            <Editor\n                editorState={editorState}\n                toolbarClassName=\"rdw-storybook-toolbar\"\n                wrapperClassName=\"rdw-storybook-wrapper\"\n                editorClassName=\"rdw-storybook-editor\"\n                onEditorStateChange={this.onEditorStateChange}\n                localization={{\n                    locale: 'zh_tw',\n                }}\n            />\n            <textarea\n                readOnly\n                className=\"rdw-storybook-textarea\"\n                value={JSON.stringify(convertToRaw(editorState.getCurrentContent()))}\n            />\n        </div>);\n    }\n}\n\n\nfunction ConvertFromRawDraftContent2(){\n    const [editorState,setEditorState] = useState();\n    const [content,setContent] = useState();\n    var tmp = {\"blocks\":[{\"key\":\"e1fmv\",\"text\":\"hello john\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{}};\n    const [rawState,setRawContent] = useState({\"blocks\":[{\"key\":\"e1fmv\",\"text\":\"hello john\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{}});\n    setEditorState(EditorState.createWithContent(contentState));\n    setContent(convertFromRaw(rawState));\n    function changeHandler(event){\n        console.log(event);\n    }\n    return <div className=\"rdw-storybook-root\">\n        <Editor\n            editorState={editorState}\n            toolbarClassName=\"rdw-storybook-toolbar\"\n            wrapperClassName=\"rdw-storybook-wrapper\"\n            editorClassName=\"rdw-storybook-editor\"\n            onEditorStateChange={(event)=>changeHandler(event)}\n        />\n    </div>;\n}\n\nclass ConvertFromRawDraftContent extends Component {\n    constructor(props) {\n        super(props);\n        const contentState = convertFromRaw({\"blocks\":[{\"key\":\"e1fmv\",\"text\":\"hello john\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{}});\n        /*\n        const contentState = convertFromRaw({\n            \"blocks\": [\n                {\n                    \"key\": \"637gr\",\n                    \"text\": \"Initialized from content state.\",\n                    \"type\": \"unstyled\",\n                    \"depth\": 0,\n                    \"inlineStyleRanges\": [],\n                    \"entityRanges\": [],\n                    \"data\": {\n                        \"text-align\": \"center\"\n                    }\n                }\n            ],\n            \"entityMap\": {}\n        });\n\n         */\n        const editorState = EditorState.createWithContent(contentState);\n        this.state = {\n            editorState,\n        }\n    }\n\n    onEditorStateChange: Function = (editorState) => {\n        this.setState({\n            editorState,\n        });\n    };\n\n    render() {\n        const { editorState } = this.state;\n        return (<div className=\"rdw-storybook-root\">\n            <span>RAW Content: <pre>{'{\"entityMap\":{},\"blocks\":[{\"key\":\"637gr\",\"text\":\"Initialized from content state.\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}]}'}</pre></span>\n            <Editor\n                editorState={editorState}\n                toolbarClassName=\"rdw-storybook-toolbar\"\n                wrapperClassName=\"rdw-storybook-wrapper\"\n                editorClassName=\"rdw-storybook-editor\"\n                onEditorStateChange={this.onEditorStateChange}\n            />\n        </div>);\n    }\n}\n\n\nReactDOM.render(\n    <DraftDemo />,\n    document.getElementById('root')\n);"]},"metadata":{},"sourceType":"module"}